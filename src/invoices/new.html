<template>

    <require from="./new.css" as="new-invoice"></require>
    
    <div class="page-header">
        <h1>New Invoice</h1>
    </div>

    <div id="select-time-card-step" class="${currentStep === 'select-time-card' ? 'step current' : 'step'}">
        <div class="step-nav-banner">
            <div if.bind="!selectedEntries.length" class="current">Select time entries</div>
            <div if.bind="selectedEntries.length" class="current">
                ${selectedEntries.length} ${selectedEntries.length == 1 ? "entry" : "entries" } selected
            </div>
            <div class="divider"></div>
            <div>
                <button click.delegate="nextStep('select-time-card')">Next</button>
            </div>
        </div>

        <div class="time-entries resource-list">
            <div show.bind="timeEntries.length === 0">
                <p class="text-center">No entries to display.<p>
            </div>
            <time-entry-card repeat.for="entry of timeEntries" class="resource-list-item ${entry.selected ? 'selected' : ''}"
            click.delegate="selectCard(entry)" model.bind="entry" />
        </div>
    </div>

    <div id="info-step" class="${currentStep === 'info' ? 'step current' : 'step'}">
        <div class="step-nav-banner">
            <div class="current">
                <a href="#" click.delegate="goToEditTimeCardsStep()">Edit time entries</a>
            </div>
            <div class="divider"></div>
            <div>
                <button click.delegate="createInvoice()">Submit</button>
            </div>
        </div>
        <form>
            <div class="form-group">
                <label for="creation-date">Date</label>
                <input type="date" id="creation-date" value.bind="date" />
            </div>
            <div class="form-group">
                <label for="recipient">Recipient</label>
                <select id="recipient" value.bind="orgId" change.delegate="orgIdChanged(orgId)">
                    <option repeat.for="org of organizations" value.bind="org.id">
                        ${org.name}
                    </option>
                </select>
            </div>
            <div class="form-group">
                <label for="office">Office</label>
                <select id="office" value.bind="officeId">
                    <option repeat.for="office of offices" value.bind="office.id">
                        ${office.addressLine1}
                    </option>
                </select>
            </div>
        </form>
    </div>

</template>
