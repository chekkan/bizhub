<template>
    <require from="./new-invoice.css"></require>
    <require from="../time-entries/time-entry-form"></require>

    <div class="container">
        <div class="subhead">
            <h2>Create a new invoice</h2>
        </div>

        <form submit.delegate="createInvoice()">
            <div class="form-group">
                <label for="date">Date</label>
                <input type="date" value.bind="date" />
            </div>

            <fieldset id="invoice_recipient">
                <legend>Recipient</legend>
                <span class="hint">Who are you sending this invoice to?</span>
                <div class="form-group">
                    <label for="recipient-name">Name</label>
                    <input type="text" id="recipient-name" value.bind="recipient.name" />
                </div>
                <div class="form-group">
                    <label for="recipient-address">Address</label>
                    <textarea id="recipient-address" value.bind="recipient.address" rows="5"></textarea>
                </div>
            </fieldset>

            <fieldset>
                <legend>Time entries</legend>
                <time-entry-form repeat.for="entry of invoiceEntries" model.bind="entry">
                </time-entry-form>
                <a href="#" click.delegate="addTimeEntry()">Add new time entry</a>
            </fieldset>

            <button type="submit" class="btn btn-primary">Create invoice</button>
        </form>
    </div>
</template>
