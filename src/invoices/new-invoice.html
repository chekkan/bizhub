<template>
    <require from="./new-invoice.css"></require>
    <require from="../time-entries/time-entry-form"></require>

    <div class="container">
        <div class="subhead">
            <h2>Create a new invoice</h2>
        </div>

        <form submit.delegate="createInvoice()">
            <div class="form-group">
                <label for="date">Date</label>
                <input type="date" value.bind="date" />
            </div>

            <fieldset id="invoice_from">
                <legend>From</legend>
                <span class="hint">Who is sending the invoice?</span>
                <div class="form-group">
                    <label for="from_name">Name</label>
                    <input type="text" id="from_name" value.bind="from.name" />
                </div>
                <div class="form-group">
                    <label for="from_address">Address</label>
                    <textarea id="from_address" value.bind="from.address" rows="5"></textarea>
                </div>
            </fieldset>

            <fieldset id="invoice_recipient">
                <legend>Recipient</legend>
                <span class="hint">Who are you sending this invoice to?</span>
                <div class="form-group">
                    <label for="recipient-name">Name</label>
                    <input type="text" id="recipient-name" value.bind="recipient.name" />
                </div>
                <div class="form-group">
                    <label for="recipient-address">Address</label>
                    <textarea id="recipient-address" value.bind="recipient.address" rows="5"></textarea>
                </div>
            </fieldset>

            <fieldset>
                <legend>Time entries</legend>
                <time-entry-form repeat.for="entry of invoiceEntries" model.bind="entry">
                </time-entry-form>
                <a href="#" click.delegate="addTimeEntry()">Add new time entry</a>
            </fieldset>

            <fieldset>
                <legend>Payment</legend>
                <div class="form-group">
                    <label for="invoice_payment_name">Name</label>
                    <input type="text" id="invoice_payment_name" value.bind="payment.name" />
                </div>
                <div class="form-group">
                    <label for="invoice_payment_bank">Bank</label>
                    <input type="text" id="invoice_payment_bank" value.bind="payment.bank" />
                </div>
                <div class="form-group">
                    <label for="invoice_payment_sortcode">Sort Code</label>
                    <input type="text" id="invoice_payment_sortcode" value.bind="payment.sortCode" />
                </div>
                <div class="form-group">
                    <label for="invoice_payment_account_number">Account Number</label>
                    <input type="text" id="invoice_payment_account_number" value.bind="payment.accountNumber" />
                </div>
            </fieldset>

            <button type="submit" class="btn btn-primary">Create invoice</button>
        </form>
    </div>
</template>
